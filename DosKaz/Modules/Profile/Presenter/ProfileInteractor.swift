//
//  ProfileInteractor.swift
//  Profile
//
//  Generated by ModuleGenerator.
//  Copyright Â© 2020-05-18 08:16:13 +0000 lobster.kz. All rights reserved.
//

protocol ProfileInteractorInput {
	func loadProfile() -> Void
	func deleteAvatar() -> Void
}

// MARK: Implementation

class ProfileInteractor: ProfileInteractorInput {

	weak var output: ProfileInteractorOutput!
	
	func loadProfile() -> Void {
		let onSuccess = { [weak self] (profile: Profile) -> Void in
			self?.output.didLoad(profile)
		}
		
		let onFailure = { [weak self] (error: Error) -> Void in
			self?.output.didFailLoad(error)
		}
		
		APIProfile(onSuccess: onSuccess, onFailure: onFailure).dispatch()
	}
	
	func deleteAvatar() {
		APIDeleteAvatar(onSuccess: { [weak self] (response) in
			self?.output?.didDeleteAvatar()
		}, onFailure: { error in
			print(error)
		})
		.dispatch()
	}

}
		
